<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¢„è­¦æ¨ªå¹…æµ‹è¯•é¡µé¢</title>
    
    <!-- å¼•å…¥Font Awesomeå›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- å¼•å…¥æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="assets/css/main.css">
    
    <style>
        .test-container {
            padding: 200px 50px 50px;
            max-width: 1200px;
            margin: 0 auto;
            color: white;
            background: #0a0a0a;
            min-height: 100vh;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .test-title {
            font-size: 32px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #00d4ff, #00a0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .test-description {
            font-size: 16px;
            color: #999;
            line-height: 1.6;
        }
        
        .test-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .test-btn {
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .test-btn.warning {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.2), rgba(255, 152, 0, 0.2));
            border-color: rgba(255, 193, 7, 0.5);
        }
        
        .test-btn.danger {
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.2), rgba(211, 47, 47, 0.2));
            border-color: rgba(244, 67, 54, 0.5);
        }
        
        .test-btn.critical {
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(123, 31, 162, 0.2));
            border-color: rgba(156, 39, 176, 0.5);
        }
        
        .test-btn.info {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(30, 136, 229, 0.2));
            border-color: rgba(33, 150, 243, 0.5);
        }
        
        .alert-status {
            margin-top: 30px;
            padding: 20px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .status-title {
            font-size: 18px;
            margin-bottom: 10px;
            color: #00d4ff;
        }
        
        .status-info {
            font-size: 14px;
            color: #ccc;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <!-- é¢„è­¦æ¨ªå¹…æ»šåŠ¨åŒºåŸŸ -->
    <div class="alert-banner" id="alert-banner" style="display: none;">
        <div class="alert-banner-content">
            <div class="alert-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="alert-text-container">
                <div class="alert-text" id="alert-text">
                    <!-- æ»šåŠ¨çš„é¢„è­¦ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
            <div class="alert-close" onclick="closeAlertBanner()">
                <i class="fas fa-times"></i>
            </div>
        </div>
    </div>

    <div class="test-container">
        <div class="test-header">
            <h1 class="test-title">ğŸš¨ é¢„è­¦æ¨ªå¹…æµ‹è¯•é¡µé¢</h1>
            <p class="test-description">
                æµ‹è¯•å†œæƒ…é¥æ„Ÿç³»ç»Ÿçš„é¢„è­¦æ¨ªå¹…åŠŸèƒ½ã€‚æ¨ªå¹…ä½ç½®ï¼šå›ºå®šåœ¨çª—å£é¡¶éƒ¨ä¸‹æ–¹100pxï¼Œå±…ä¸­æ˜¾ç¤ºã€‚<br>
                ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æµ‹è¯•ä¸åŒçº§åˆ«çš„é¢„è­¦æ•ˆæœã€‚
            </p>
        </div>
        
        <div class="test-buttons">
            <button class="test-btn warning" onclick="testAlert('warning')">
                <i class="fas fa-exclamation-triangle"></i>
                æµ‹è¯•è­¦å‘Šçº§é¢„è­¦
            </button>
            
            <button class="test-btn danger" onclick="testAlert('danger')">
                <i class="fas fa-exclamation-circle"></i>
                æµ‹è¯•å±é™©çº§é¢„è­¦
            </button>
            
            <button class="test-btn critical" onclick="testAlert('critical')">
                <i class="fas fa-skull-crossbones"></i>
                æµ‹è¯•ä¸¥é‡çº§é¢„è­¦
            </button>
            
            <button class="test-btn info" onclick="testAlert('info')">
                <i class="fas fa-info-circle"></i>
                æµ‹è¯•ä¿¡æ¯çº§é¢„è­¦
            </button>
            
            <button class="test-btn" onclick="testRandomAlert()">
                <i class="fas fa-random"></i>
                éšæœºé¢„è­¦æµ‹è¯•
            </button>
            
            <button class="test-btn" onclick="clearAllAlerts()">
                <i class="fas fa-times"></i>
                æ¸…é™¤æ‰€æœ‰é¢„è­¦
            </button>
        </div>
        
        <div class="alert-status">
            <div class="status-title">ğŸ“Š é¢„è­¦çŠ¶æ€</div>
            <div class="status-info" id="alert-status-info">
                å½“å‰æ— é¢„è­¦ä¿¡æ¯ã€‚ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®è§¦å‘é¢„è­¦æµ‹è¯•ã€‚
            </div>
        </div>
    </div>

    <!-- å¼•å…¥ä¸»è¦çš„JavaScriptæ–‡ä»¶ -->
    <script>
        // ç®€åŒ–ç‰ˆçš„é¢„è­¦ç®¡ç†å™¨ï¼ˆç”¨äºæµ‹è¯•ï¼‰
        class AlertBannerManager {
            constructor() {
                this.banner = document.getElementById('alert-banner');
                this.alertText = document.getElementById('alert-text');
                this.currentAlert = null;
                this.isShowing = false;
            }
            
            showAlert(alert) {
                if (this.isShowing) return;
                
                this.currentAlert = alert;
                this.isShowing = true;
                
                // è®¾ç½®æ¨ªå¹…æ ·å¼
                this.banner.className = `alert-banner ${alert.level}`;
                
                // è®¾ç½®å›¾æ ‡
                const icon = this.banner.querySelector('.alert-icon i');
                icon.className = this.getAlertIcon(alert.type, alert.level);
                
                // è®¾ç½®æ–‡æœ¬å†…å®¹
                this.alertText.textContent = `ã€${alert.title}ã€‘${alert.message} - ${alert.location} ${alert.time}`;
                
                // æ˜¾ç¤ºæ¨ªå¹…
                this.banner.style.display = 'block';
                
                // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
                this.updateStatus();
                
                // 10ç§’åè‡ªåŠ¨éšè—ï¼ˆcriticalçº§åˆ«20ç§’ï¼‰
                const hideDelay = alert.level === 'critical' ? 20000 : 10000;
                setTimeout(() => {
                    this.hideAlert();
                }, hideDelay);
                
                console.log('æ˜¾ç¤ºé¢„è­¦:', alert);
            }
            
            hideAlert() {
                if (!this.isShowing) return;
                
                this.banner.style.display = 'none';
                this.isShowing = false;
                this.currentAlert = null;
                
                this.updateStatus();
                console.log('éšè—é¢„è­¦æ¨ªå¹…');
            }
            
            closeAlert() {
                this.hideAlert();
            }
            
            getAlertIcon(type, level) {
                const icons = {
                    temperature: {
                        warning: 'fas fa-thermometer-half',
                        danger: 'fas fa-temperature-high',
                        critical: 'fas fa-fire'
                    },
                    humidity: {
                        warning: 'fas fa-tint',
                        danger: 'fas fa-tint-slash', 
                        critical: 'fas fa-exclamation-triangle'
                    },
                    ndvi: {
                        warning: 'fas fa-leaf',
                        danger: 'fas fa-seedling',
                        critical: 'fas fa-skull-crossbones'
                    },
                    general: {
                        info: 'fas fa-info-circle',
                        warning: 'fas fa-exclamation-triangle',
                        danger: 'fas fa-exclamation-circle',
                        critical: 'fas fa-skull-crossbones'
                    }
                };
                
                return icons[type]?.[level] || icons.general[level] || 'fas fa-exclamation-triangle';
            }
            
            updateStatus() {
                const statusInfo = document.getElementById('alert-status-info');
                if (this.currentAlert) {
                    statusInfo.innerHTML = `
                        <strong>å½“å‰é¢„è­¦ï¼š</strong>${this.currentAlert.title}<br>
                        <strong>çº§åˆ«ï¼š</strong>${this.getLevelText(this.currentAlert.level)}<br>
                        <strong>ä½ç½®ï¼š</strong>${this.currentAlert.location}<br>
                        <strong>æ¶ˆæ¯ï¼š</strong>${this.currentAlert.message}
                    `;
                } else {
                    statusInfo.textContent = 'å½“å‰æ— é¢„è­¦ä¿¡æ¯ã€‚ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®è§¦å‘é¢„è­¦æµ‹è¯•ã€‚';
                }
            }
            
            getLevelText(level) {
                const levels = {
                    info: 'ä¿¡æ¯çº§',
                    warning: 'è­¦å‘Šçº§', 
                    danger: 'å±é™©çº§',
                    critical: 'ä¸¥é‡çº§'
                };
                return levels[level] || level;
            }
        }

        // å…¨å±€é¢„è­¦ç®¡ç†å™¨
        let alertBannerManager;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            alertBannerManager = new AlertBannerManager();
            console.log('ğŸš¨ é¢„è­¦æ¨ªå¹…ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ');
        });
        
        // å…³é—­é¢„è­¦æ¨ªå¹…
        function closeAlertBanner() {
            if (alertBannerManager) {
                alertBannerManager.closeAlert();
            }
        }
        
        // æµ‹è¯•é¢„è­¦å‡½æ•°
        function testAlert(level) {
            const alerts = {
                warning: {
                    type: 'temperature',
                    level: 'warning',
                    title: 'é«˜æ¸©é¢„è­¦',
                    message: 'ä¸´å¤å¿åŸå…³é•‡æ¸©åº¦è¾¾åˆ°36Â°Cï¼Œè¶…è¿‡é«˜æ¸©é¢„è­¦é˜ˆå€¼35Â°C',
                    location: 'åŸå…³é•‡',
                    time: 'åˆšåˆš'
                },
                danger: {
                    type: 'humidity',
                    level: 'danger',
                    title: 'å¹²æ—±é¢„è­¦',
                    message: 'åœŸåœºé•‡ç©ºæ°”æ¹¿åº¦é™è‡³25%ï¼Œä½œç‰©é¢ä¸´å¹²æ—±å¨èƒ',
                    location: 'åœŸåœºé•‡',
                    time: '2åˆ†é’Ÿå‰'
                },
                critical: {
                    type: 'ndvi',
                    level: 'critical',
                    title: 'ä½œç‰©é•¿åŠ¿ä¸¥é‡å¼‚å¸¸',
                    message: 'åŒ—å¡”é•‡å°éº¦NDVIå€¼é™è‡³0.1ï¼Œè¿œä½äºæ­£å¸¸é˜ˆå€¼ï¼Œéœ€è¦ç´§æ€¥å¤„ç†',
                    location: 'åŒ—å¡”é•‡', 
                    time: 'åˆšåˆš'
                },
                info: {
                    type: 'general',
                    level: 'info',
                    title: 'ç³»ç»Ÿæé†’',
                    message: 'å†œæƒ…ç›‘æµ‹æ•°æ®å·²æ›´æ–°ï¼Œè¯·æŸ¥çœ‹æœ€æ–°çš„ä½œç‰©é•¿åŠ¿åˆ†ææŠ¥å‘Š',
                    location: 'å…¨å¿',
                    time: '5åˆ†é’Ÿå‰'
                }
            };
            
            if (alerts[level]) {
                alertBannerManager.showAlert(alerts[level]);
            }
        }
        
        // éšæœºé¢„è­¦æµ‹è¯•
        function testRandomAlert() {
            const levels = ['warning', 'danger', 'critical', 'info'];
            const randomLevel = levels[Math.floor(Math.random() * levels.length)];
            testAlert(randomLevel);
        }
        
        // æ¸…é™¤æ‰€æœ‰é¢„è­¦
        function clearAllAlerts() {
            alertBannerManager.hideAlert();
        }
    </script>
</body>
</html>
