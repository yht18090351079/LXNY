<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>系统仪表盘 - 农情遥感系统管理端</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="../../assets/css/common.css">
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>
  <div class="admin-container">
    <!-- 顶部导航 -->
    <header class="admin-header">
      <div class="header-left">
        <button class="mobile-menu-toggle">
          <i class="fas fa-bars"></i>
        </button>
        <div class="logo-container">
          <i class="fas fa-leaf logo-icon"></i>
          <span class="system-title">农情遥感系统</span>
        </div>
        <nav class="breadcrumb">
          <span class="breadcrumb-item"><a href="dashboard.html">首页</a></span>
          <i class="fas fa-chevron-right breadcrumb-separator"></i>
          <span class="breadcrumb-item active">系统仪表盘</span>
        </nav>
      </div>
      <div class="header-right">
        <div class="header-actions">
          <button class="action-btn" title="通知">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">2</span>
          </button>
          <button class="action-btn" title="设置">
            <i class="fas fa-cog"></i>
          </button>
        </div>
        <div class="user-dropdown">
          <button class="user-info">
            <div class="user-avatar">管</div>
            <span class="user-name">管理员</span>
            <i class="fas fa-chevron-down dropdown-icon"></i>
          </button>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item">
              <i class="fas fa-user"></i>
              个人资料
            </a>
            <a href="#" class="dropdown-item">
              <i class="fas fa-cog"></i>
              账户设置
            </a>
            <div class="dropdown-divider"></div>
            <a href="../../index.html" class="dropdown-item logout">
              <i class="fas fa-sign-out-alt"></i>
              退出登录
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- 主体布局 -->
    <div class="admin-layout">
      <!-- 左侧菜单 - 使用组件 -->
      <aside class="admin-sidebar">
        <!-- 侧边栏内容将由组件动态加载 -->
      </aside>

      <!-- 侧边栏切换按钮 -->
      <button class="sidebar-toggle">
        <i class="fas fa-angle-left"></i>
      </button>

      <!-- 主内容区 -->
      <main class="admin-main">
        <div class="main-content">
          <!-- 页面标题 -->
          <div class="page-header">
            <div class="page-title">
              <h1>系统仪表盘</h1>
              <p class="page-subtitle">农情遥感系统运行状态总览</p>
            </div>
            <div class="page-actions">
              <button class="btn btn-secondary">
                <i class="fas fa-sync-alt"></i>
                刷新数据
              </button>
              <button class="btn btn-primary">
                <i class="fas fa-download"></i>
                导出报告
              </button>
            </div>
          </div>

          <!-- 统计卡片 -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon blue">
                <i class="fas fa-database"></i>
              </div>
              <div class="stat-content">
                <div class="stat-value">1,247</div>
                <div class="stat-label">遥感数据总量</div>
                <div class="stat-trend up">
                  <i class="fas fa-arrow-up"></i>
                  <span>12.5%</span>
                  <small>较上月</small>
                </div>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon green">
                <i class="fas fa-wifi"></i>
              </div>
              <div class="stat-content">
                <div class="stat-value">342</div>
                <div class="stat-label">在线设备数</div>
                <div class="stat-trend up">
                  <i class="fas fa-arrow-up"></i>
                  <span>8.2%</span>
                  <small>较上月</small>
                </div>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon orange">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <div class="stat-content">
                <div class="stat-value">23</div>
                <div class="stat-label">待处理告警</div>
                <div class="stat-trend down">
                  <i class="fas fa-arrow-down"></i>
                  <span>15.3%</span>
                  <small>较昨日</small>
                </div>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon purple">
                <i class="fas fa-users"></i>
              </div>
              <div class="stat-content">
                <div class="stat-value">156</div>
                <div class="stat-label">活跃用户数</div>
                <div class="stat-trend up">
                  <i class="fas fa-arrow-up"></i>
                  <span>5.7%</span>
                  <small>较上周</small>
                </div>
              </div>
            </div>
          </div>

          <!-- 图表和快速入口 -->
          <div class="dashboard-content">
            <div class="content-left">
              <!-- 数据趋势图表 -->
              <div class="dashboard-card">
                <div class="card-header">
                  <h3 class="card-title">数据采集趋势</h3>
                  <div class="card-actions">
                    <select class="time-range-select">
                      <option value="7">近7天</option>
                      <option value="30" selected>近30天</option>
                      <option value="90">近3个月</option>
                    </select>
                  </div>
                </div>
                <div class="card-body">
                  <div id="trendChart" class="chart-container"></div>
                </div>
              </div>

              <!-- 系统状态监控 -->
              <div class="dashboard-card">
                <div class="card-header">
                  <h3 class="card-title">系统状态监控</h3>
                  <div class="status-time">
                    <span>最后更新：</span>
                    <span id="lastUpdateTime">2023-12-15 14:30:25</span>
                  </div>
                </div>
                <div class="card-body">
                  <div class="system-monitors">
                    <div class="monitor-item">
                      <div class="monitor-label">CPU使用率</div>
                      <div class="monitor-value">
                        <div class="progress-bar">
                          <div class="progress-fill" style="width: 45%" data-color="green"></div>
                        </div>
                        <span class="monitor-text">45%</span>
                      </div>
                    </div>
                    
                    <div class="monitor-item">
                      <div class="monitor-label">内存使用率</div>
                      <div class="monitor-value">
                        <div class="progress-bar">
                          <div class="progress-fill" style="width: 67%" data-color="orange"></div>
                        </div>
                        <span class="monitor-text">67%</span>
                      </div>
                    </div>
                    
                    <div class="monitor-item">
                      <div class="monitor-label">磁盘使用率</div>
                      <div class="monitor-value">
                        <div class="progress-bar">
                          <div class="progress-fill" style="width: 32%" data-color="green"></div>
                        </div>
                        <span class="monitor-text">32%</span>
                      </div>
                    </div>
                    
                    <div class="monitor-item">
                      <div class="monitor-label">网络带宽</div>
                      <div class="monitor-value">
                        <div class="progress-bar">
                          <div class="progress-fill" style="width: 18%" data-color="green"></div>
                        </div>
                        <span class="monitor-text">18%</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="content-right">
              <!-- 快速入口 -->
              <div class="dashboard-card">
                <div class="card-header">
                  <h3 class="card-title">快速入口</h3>
                </div>
                <div class="card-body">
                  <div class="quick-actions">
                    <a href="#" class="quick-action-item">
                      <div class="action-icon blue">
                        <i class="fas fa-upload"></i>
                      </div>
                      <div class="action-content">
                        <div class="action-title">数据导入</div>
                        <div class="action-desc">导入遥感数据</div>
                      </div>
                    </a>
                    
                    <a href="#" class="quick-action-item">
                      <div class="action-icon green">
                        <i class="fas fa-plus"></i>
                      </div>
                      <div class="action-content">
                        <div class="action-title">添加设备</div>
                        <div class="action-desc">注册新设备</div>
                      </div>
                    </a>
                    
                    <a href="#" class="quick-action-item">
                      <div class="action-icon orange">
                        <i class="fas fa-user-plus"></i>
                      </div>
                      <div class="action-content">
                        <div class="action-title">创建用户</div>
                        <div class="action-desc">添加系统用户</div>
                      </div>
                    </a>
                    
                    <a href="#" class="quick-action-item">
                      <div class="action-icon purple">
                        <i class="fas fa-cog"></i>
                      </div>
                      <div class="action-content">
                        <div class="action-title">系统设置</div>
                        <div class="action-desc">配置系统参数</div>
                      </div>
                    </a>
                  </div>
                </div>
              </div>

              <!-- 告警通知 -->
              <div class="dashboard-card">
                <div class="card-header">
                  <h3 class="card-title">
                    告警通知
                    <span class="notification-count">5</span>
                  </h3>
                  <a href="#" class="view-all-link">查看全部</a>
                </div>
                <div class="card-body">
                  <div class="notification-list">
                    <div class="notification-item high">
                      <div class="notification-icon">
                        <i class="fas fa-exclamation-circle"></i>
                      </div>
                      <div class="notification-content">
                        <div class="notification-title">设备离线告警</div>
                        <div class="notification-desc">苗情监测设备SN001已离线超过2小时</div>
                        <div class="notification-time">2分钟前</div>
                      </div>
                    </div>
                    
                    <div class="notification-item medium">
                      <div class="notification-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                      </div>
                      <div class="notification-content">
                        <div class="notification-title">数据异常</div>
                        <div class="notification-desc">温度传感器数据超出正常范围</div>
                        <div class="notification-time">15分钟前</div>
                      </div>
                    </div>
                    
                    <div class="notification-item low">
                      <div class="notification-icon">
                        <i class="fas fa-info-circle"></i>
                      </div>
                      <div class="notification-content">
                        <div class="notification-title">定期备份</div>
                        <div class="notification-desc">数据库备份已完成</div>
                        <div class="notification-time">1小时前</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 设备状态分布 -->
              <div class="dashboard-card">
                <div class="card-header">
                  <h3 class="card-title">设备状态分布</h3>
                </div>
                <div class="card-body">
                  <div id="deviceStatusChart" class="chart-container"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 底部状态栏 -->
        <footer class="admin-footer">
          <div class="footer-left">
            <span>&copy; 2023 甘肃临夏农情遥感系统管理平台 版权所有</span>
          </div>
          <div class="footer-right">
            <span>系统版本：v2.0.0</span>
            <span class="divider">|</span>
            <span>最后更新：2023-12-15</span>
          </div>
        </footer>
      </main>
    </div>
  </div>

  <!-- 脚本文件 -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <script src="../../assets/js/common.js"></script>
  <script src="../../components/sidebar.js"></script>
  <script src="dashboard.js"></script>
</body>
</html>