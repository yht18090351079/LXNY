# PRD系统版本说明

## 📋 概述

PRD系统现在提供两个独立版本，满足不同使用场景：

- 🌐 **prd-system.html** - 查看版本 (无批注功能)
- 🛠️ **prd-system-dev.html** - 开发版本 (完整功能)

## 📊 版本对比

| 特性 | 查看版本 | 开发版本 |
|------|----------|----------|
| **基础浏览** | ✅ | ✅ |
| **页面导航** | ✅ | ✅ |
| **功能切换** | ✅ | ✅ |
| **全屏模式** | ✅ | ✅ |
| **批注查看** | ❌ | ✅ |
| **批注编辑** | ❌ | ✅ |
| **实时同步** | ❌ | ✅ |
| **后端依赖** | ❌ | ✅ |
| **Canvas识别** | ❌ | ✅ |

## 🌐 查看版本 (prd-system.html)

### 特点
- 🔒 **只读模式**：仅支持浏览，无编辑功能
- 📱 **轻量级**：无后端依赖，可直接在浏览器中打开
- 🚀 **快速加载**：简化的代码结构，加载速度更快
- 👁️ **模式指示器**：左上角显示"查看模式"

### 功能
- ✅ 页面浏览和导航
- ✅ 功能模块切换
- ✅ 全屏模式
- ✅ 基础页面信息显示
- ✅ 功能清单查看

### 使用场景
- 产品演示和展示
- 客户查看和评审
- 移动设备浏览
- 无需编辑的查看需求

### 启动方式
```bash
# 直接用浏览器打开
open prd-system.html

# 或使用简单的HTTP服务器
python -m http.server 8000
# 然后访问: http://localhost:8000/prd-system.html
```

## 🛠️ 开发版本 (prd-system-dev.html)

### 特点
- ✏️ **完整功能**：支持所有批注和编辑功能
- 🔄 **实时同步**：与后端API服务器实时数据同步
- 🎨 **Canvas识别**：智能识别和区分多个Canvas元素
- 🛠️ **模式指示器**：显示当前环境模式状态

### 功能
- ✅ 所有查看版本功能
- ✅ 批注创建、编辑、删除
- ✅ 实时数据同步
- ✅ Canvas智能识别
- ✅ 环境模式自动检测
- ✅ 数据备份和恢复

### 使用场景
- 产品需求文档编写
- 批注和评审协作
- 开发团队内部使用
- 需要数据持久化的场景

### 启动方式
```bash
# 方式1: 启动完整开发环境
npm install
npm start
# 访问: http://localhost:3000/prd-system-dev.html

# 方式2: 直接浏览器打开（有限功能）
open prd-system-dev.html
```

## 🔧 环境配置

### 查看版本
无需任何配置，直接打开即可使用。

### 开发版本

#### 依赖文件
- `api-server-example.js` - 后端API服务器
- `package.json` - 项目依赖配置
- `prd-docs/annotations.json` - 批注数据文件

#### 环境要求
- Node.js 14.0.0+
- npm 或 yarn

#### 配置说明
开发版本会自动检测运行环境：
- 本地开发环境 → 自动启用开发模式
- 生产环境 → 根据URL参数判断

## 📁 文件结构

```
临夏农业/
├── prd-system.html              # 查看版本
├── prd-system-dev.html          # 开发版本
├── api-server-example.js        # 后端服务器
├── package.json                 # 依赖配置
├── 环境模式使用说明.md           # 详细使用说明
├── 版本说明.md                  # 本文档
├── canvas-test-demo.html        # Canvas测试页面
└── prd-docs/
    ├── annotations.json         # 批注数据
    └── *.md                     # 文档文件
```

## ⚠️ 注意事项

### 查看版本
- 不支持数据持久化
- 无法创建或编辑批注
- 适合只读场景使用

### 开发版本
- 需要后端服务器支持完整功能
- 批注数据会自动备份
- 支持多用户协作（需要配置）

## 🚀 快速选择

### 我该使用哪个版本？

**使用查看版本，如果你：**
- 只需要浏览和查看功能
- 不需要编辑批注
- 希望快速启动，无需配置
- 在移动设备上使用

**使用开发版本，如果你：**
- 需要创建和编辑批注
- 需要团队协作功能
- 有后端开发环境
- 需要数据持久化

## 🔄 版本迁移

### 从开发版本到查看版本
- 数据会丢失（批注等）
- 界面保持一致
- 功能受限但更稳定

### 从查看版本到开发版本
- 无数据丢失风险
- 需要设置后端环境
- 获得完整功能

---

💡 **建议**：开发和编辑阶段使用开发版本，最终演示和发布时使用查看版本。